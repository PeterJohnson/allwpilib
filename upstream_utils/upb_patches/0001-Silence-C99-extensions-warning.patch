From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Peter Johnson <johnson.peter@gmail.com>
Date: Sat, 9 Nov 2024 11:36:08 -0800
Subject: [PATCH 1/3] Silence C99 extensions warning

---
 upb/mini_table/internal/enum.h | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

diff --git a/upb/mini_table/internal/enum.h b/upb/mini_table/internal/enum.h
index 87fae6c5efe526af84718838718b3aa912f03b07..c0f07e045c4606d2f53b6cc273d4f03657d2b647 100644
--- a/upb/mini_table/internal/enum.h
+++ b/upb/mini_table/internal/enum.h
@@ -13,12 +13,28 @@
 // Must be last.
 #include "upb/port/def.inc"
 
+#ifdef __GCC__
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wc99-extensions"
+#endif
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wc99-extensions"
+#endif
+
 struct upb_MiniTableEnum {
   uint32_t UPB_PRIVATE(mask_limit);   // Highest that can be tested with mask.
   uint32_t UPB_PRIVATE(value_count);  // Number of values after the bitfield.
   uint32_t UPB_PRIVATE(data)[];       // Bitmask + enumerated values follow.
 };
 
+#ifdef __GCC__
+#pragma GCC diagnostic pop
+#endif
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
+
 #ifdef __cplusplus
 extern "C" {
 #endif
