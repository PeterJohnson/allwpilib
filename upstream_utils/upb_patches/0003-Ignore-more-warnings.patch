From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Peter Johnson <johnson.peter@gmail.com>
Date: Sat, 9 Nov 2024 11:48:11 -0800
Subject: [PATCH 3/3] Ignore more warnings

---
 upb/port/def.inc | 11 +++++++++++
 1 file changed, 11 insertions(+)

diff --git a/upb/port/def.inc b/upb/port/def.inc
index b069292080de762646c376d692b6544d1eee2fe5..d470c0858ec6df865bdeca835a67b57f40170a41 100644
--- a/upb/port/def.inc
+++ b/upb/port/def.inc
@@ -33,6 +33,17 @@
 #error upb requires C99 or C++14 or MSVC >= 2015.
 #endif
 
+#ifdef __GCC__
+#pragma GCC diagnostic ignored "-Wgnu-flexible-array-initializer"
+#pragma GCC diagnostic ignored "-Wc11-extensions"
+#pragma GCC diagnostic ignored "-Wsign-compare"
+#endif
+#ifdef __clang__
+#pragma clang diagnostic ignored "-Wgnu-flexible-array-initializer"
+#pragma clang diagnostic ignored "-Wc11-extensions"
+#pragma clang diagnostic ignored "-Wsign-compare"
+#endif
+
 // Portable check for GCC minimum version:
 // https://gcc.gnu.org/onlinedocs/cpp/Common-Predefined-Macros.html
 #if defined(__GNUC__) && defined(__GNUC_MINOR__) && defined(__GNUC_PATCHLEVEL__)
